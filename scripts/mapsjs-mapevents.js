
/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.65.0/HERE_NOTICE
 */

H.util.eval("function rn(a,b,c,d,e,f,g){rn.g.constructor.call(this,a);this.pointers=b;this.changedPointers=c;this.targetPointers=d;this.currentPointer=e;this.originalEvent=g;this.target=f}u(rn,td);t(\"H.mapevents.Event\",rn);function sn(a,b){b=void 0===b?{}:b;var c;sn.g.constructor.call(this);if(-1!==tn.indexOf(a))throw new C(sn,0,\"events are already used\");this.s=c=a.s;this.tv=a;tn.push(a);c.draggable=!0;this.xa=b.kinetics||{duration:600,ease:Sk};this.TB=b.modifierKey||\"Alt\";this.enable(b.enabled);this.Ii=c.ua;this.wl=this.Ii.element;this.Vm=0;c.addEventListener(\"dragstart\",this.Dd,!1,this);c.addEventListener(\"drag\",this.kg,!1,this);c.addEventListener(\"dragend\",this.gf,!0,this);c.addEventListener(\"wheel\",this.$v,!1,\nthis);c.addEventListener(\"dbltap\",this.Nv,!1,this);c.addEventListener(\"pointermove\",this.ke,!1,this);Id(this.wl,\"contextmenu\",this.fn,!1,this);a.ec(this.l,this)}u(sn,od);t(\"H.mapevents.Behavior\",sn);var tn=[];kb(tn);sn.prototype.Hb=0;var un={PANNING:1,PINCH_ZOOM:2,WHEEL_ZOOM:4,DBL_TAP_ZOOM:8,FRACTIONAL_ZOOM:16,ZOOM_MOMENTUM:32,TILT:64,HEADING:128};sn.Feature=un;\nvar vn=un.PANNING,wn=un.PINCH_ZOOM,xn=un.WHEEL_ZOOM,yn=un.DBL_TAP_ZOOM,zn=un.FRACTIONAL_ZOOM,An=un.ZOOM_MOMENTUM,Bn=un.TILT,Cn=un.HEADING,Dn=vn|wn|xn|yn|zn|An|Bn|Cn;sn.DRAGGING=vn;sn.WHEELZOOM=xn;sn.DBLTAPZOOM=yn;sn.FRACTIONALZOOM=zn;function En(a,b){if(a!==+a||a%1||0>a||2147483647<a)throw new C(b,0,\"integer in range [0...0x7FFFFFFF] required\");}\nsn.prototype.disable=function(a){var b=this.Hb;a!==A?(En(a,this.disable),b^=b&a):b=0;this.Ii.endInteraction(!0);this.Hb=b;this.s.draggable=0<(b&(vn|Bn|Cn|wn))};sn.prototype.disable=sn.prototype.disable;sn.prototype.enable=function(a){var b=this.Hb;a!==A?(En(a,this.enable),b|=a&Dn):b=Dn;this.Hb=b;this.s.draggable=0<(b&(vn|Bn|Cn|wn))};sn.prototype.enable=sn.prototype.enable;sn.prototype.isEnabled=function(a){En(a,this.isEnabled);return a===(this.Hb&a)};sn.prototype.isEnabled=sn.prototype.isEnabled;\nfunction Fn(a,b,c){var d=\"touch\"===b.currentPointer.type,e=0,f;if(f=!d){f=a.TB;var g=b.originalEvent;f=g.getModifierState?g.getModifierState(f):!!g[f.replace(/^Control$/,\"ctrl\").toLowerCase()+\"Key\"]}f?e|=Bn|Cn:(e|=vn,d&&(b=b.pointers,2===b.length&&(e|=wn|Cn,c?55>Kc(b[0].viewportY-b[1].viewportY)&&(e|=Bn):a.kq&bj.TILT&&(e|=Bn))));e&=a.Hb;return(e&Bn?bj.TILT:0)|(e&Cn?bj.HEADING:0)|(e&wn?bj.ZOOM:0)|(e&vn?bj.COORD:0)}\nfunction Gn(a){var b=a.pointers;a=b[0];b=b[1];a=[a.viewportX,a.viewportY];b&&a.push(b.viewportX,b.viewportY);return a}m=sn.prototype;m.kq=0;m.Dd=function(a){var b=Fn(this,a,!0);if(this.kq=b){var c=this.Ii;a=Gn(a);c.startInteraction(b,this.xa);c.interaction.apply(c,a);if(this.Hb&xn&&!(this.Hb&zn)&&(b=a[0],c=a[1],this.Vm)){a=this.s.Wb();var d=(0>this.Vm?Jc:Ic)(a);a!==d&&(this.Vm=0,this.Li(a,d,b,c))}}};\nm.kg=function(a){var b=Fn(this,a,!1);if(b!==this.kq)\"pointerout\"!==a.originalEvent.type&&\"pointerover\"!==a.originalEvent.type&&(this.gf(a),this.Dd(a));else if(b){b=this.Ii;var c=Gn(a);b.interaction.apply(b,c);a.originalEvent.preventDefault()}};m.gf=function(a){Fn(this,a,!1)&&this.Ii.endInteraction(!this.xa)};\nm.Li=function(a,b,c,d){var e=this.s.ya;if(isNaN(+a))throw Error(\"start zoom needs to be a number\");if(isNaN(+b))throw Error(\"to zoom needs to be a number\");0!==+b-+a&&(e.startControl(null,c,d),e.control(0,0,6,0,0,0),e.endControl(!0,function(f){f.zoom=b}))};m.Zv=function(a){return a};m.Yv=-1/0;m.Vv=0;m.Xv=[];m.Wv=0;\nm.$v=function(a){var b=this;if(!a.defaultPrevented&&this.Hb&xn){var c=a.originalEvent,d=c.deltaY,e=Math.abs(d),f=this.Wv,g=!!(this.Hb&zn),h=this.Xv,k=c.timeStamp,l=hd(k-this.Yv,5,150);this.Yv=k;k=window.devicePixelRatio;var n=this.s.za.type;if(this.Hb&An&&n!==Hf.P2D){if(150<=l){f=0;n=function(w){return w};var p=!(d%1);if(c.ctrlKey&&!p)f=1,n=function(w){return w*(Fb?40:20)};else if(Db&&p&&(!zb||e%16))f=2,n=function(w){return Math.pow(w,1.5)};else if(Eb&&100>e)f=3,n=function(w){return g?Math.pow(w+\n1,2):.4*(w+1)};else if(Fb&&(zb&&e%138||Ab&&e*k%120))f=4;else if(Db)zb&&16<=e&&!(e%16)?(f=6,n=function(w){return 1.5*Math.pow(w/16,1.937)}):(Ab||Bb||yb)&&4.000244140625===e&&(f=7,n=function(w){return w/e});else if(Eb&&!(e%100&&(!zb||e%102))||Fb&&(Ab&&!(e*k%120)||zb&&!(e%138)))f=8,h.length=0,n=function(w){var y=b.Xv,D=y.length;D=1<D?y.reduce(function(G,O,Q){return Q?G+O:0},0)/(D-1):y[0];return w/e*5*Math.pow(150/D,1+Fc(7,y.length)/(150/D))};this.Wv=f;this.Zv=n}8===f&&h.push(l);c=1===f;f=2===f||3===\nf||4===f;h=Fc(f?100:200,this.Zv(e));var q=this.s.ya;q.startControl(null,a.viewportX,a.viewportY);var r=0>d?-1:1;q.control(0,0,.1*-r*(g?h:5*hd(h,5,33)),0,0,0);var v=c||f&&!Fb;clearTimeout(this.Vv);this.Vv=setTimeout(function(){q.endControl(v,function(w){g||(w.zoom=(0>r?Jc:Ic)(w.zoom))})},150)}else d=this.s.Wb(),f=a.delta,c=g?d-f:(0>-f?Jc:Ic)(d)-f,this.Li(d,c,a.viewportX,a.viewportY),this.Vm=f;a.preventDefault()}};m.ke=function(){};\nm.Nv=function(a){var b=a.currentPointer,c=this.s.Wb(),d=a.currentPointer.type,e=this.s.za.type;(e===Hf.P2D||e===Hf.WEBGL||e===Hf.HARP)&&this.Hb&yn&&(a=\"mouse\"===d?0===a.originalEvent.button?-1:1:0<a.pointers.length?1:-1,a=this.Hb&zn?c-a:(0>-a?Jc:Ic)(c)-a,this.Li(c,a,b.viewportX,b.viewportY))};m.fn=function(a){return this.Hb&yn?(a.preventDefault(),!1):!0};\nm.l=function(){var a=this.s;a&&(a.draggable=!1,a.removeEventListener(\"dragstart\",this.Dd,!1,this),a.removeEventListener(\"drag\",this.kg,!1,this),a.removeEventListener(\"dragend\",this.gf,!0,this),a.removeEventListener(\"wheel\",this.$v,!1,this),a.removeEventListener(\"dbltap\",this.Nv,!1,this),a.removeEventListener(\"pointermove\",this.ke,!1,this),delete this.s);this.wl&&(this.wl.style.msTouchAction=\"\",Qd(this.wl,\"contextmenu\",this.fn,!1,this),delete this.wl);delete this.Ii;delete this.xa;tn.splice(tn.indexOf(this.tv),\n1);delete this.tv;od.prototype.l.call(this)};sn.prototype.dispose=sn.prototype.l;function Hn(a,b,c,d,e,f){if(isNaN(a))throw Error(\"x needs to be a number\");if(isNaN(b))throw Error(\"y needs to be a number\");if(isNaN(c))throw Error(\"pointer must have an id\");this.viewportX=a;this.viewportY=b;this.target=null;this.id=c;this.type=d;this.dragTarget=null;this.button=Ya(e)?e:-1;this.buttons=Ya(f)?f:0;this.Tm=this.button}t(\"H.mapevents.Pointer\",Hn);\nfunction In(a,b,c){if(isNaN(b))throw Error(\"x needs to be a number\");if(isNaN(c))throw Error(\"y needs to be a number\");a.viewportX=b;a.viewportY=c}Hn.prototype.gA=function(){return this.Tm};Hn.prototype.getLastChangedButton=Hn.prototype.gA;function Jn(a,b){a.Tm=b;a.buttons|=Kn[+b]||0}function Ln(a,b){a.Tm=b;a.buttons&=~(Kn[+b]||0)}var Kn=[1,4,2],Mn={NONE:-1,LEFT:0,MIDDLE:1,RIGHT:2};Hn.Button=Mn;function Nn(a){var b=a.ownerDocument;b=b.documentElement||b.body.parentNode||b.body;try{var c=a.getBoundingClientRect()}catch(d){c={top:0,right:0,bottom:0,left:0,height:0,width:0}}return{x:c.left+(\"number\"===typeof window.pageXOffset?window.pageXOffset:b.scrollLeft),y:c.top+(\"number\"===typeof window.pageYOffset?window.pageYOffset:b.scrollTop)}};function On(a){this.Ha=a instanceof Array?a.slice(0):[]}m=On.prototype;m.clear=function(){this.Ha.splice(0,this.Ha.length)};m.length=function(){return this.Ha.length};m.item=function(a){return this.Ha[a]||null};m.indexOf=function(a){for(var b=this.Ha.length;b--;)if(this.Ha[b].id===a)return b;return-1};function Pn(a,b){b=a.indexOf(b);return-1!==b?a.Ha[b]:null}m.remove=function(a){a=this.indexOf(a);return-1!==a?this.Ha.splice(a,1)[0]:null};\nfunction Qn(a,b){for(var c=a.Ha.length,d=[];c--;)a.Ha[c].type!==b&&d.push(a.Ha[c]);a.Ha=d}function Rn(a,b){for(var c=a.Ha.length;c--;)if(a.Ha[c].dragTarget===b)return!0;return!1}m.push=function(a){if(a instanceof Hn)return this.Ha.push(a);throw Error(\"list needs a pointer\");};m.Va=function(){return this.Ha};m.clone=function(){return new On(this.Ha)};function Sn(a,b,c){c=c||{};if(!(a instanceof U))throw Error(\"events: map instance required\");if(!(b instanceof Array))throw Error(\"events: map array required\");od.call(this);this.kp=c.kp||300;this.Bt=c.Bt||50;this.vx=c.vx||50;this.wx=c.wx||500;this.Gq=c.Gq||900;this.Fq=c.Fq||8;this.map=a;this.Ea=this.map.ua;this.element=this.Ea.element;this.sp=b;this.pointers=new On;this.changedPointers=new On;this.bg={};this.Na=null;this.im=!0;this.Rk={};this.uf={};this.fk=null;this.qj=z(this.qj,this);this.St={pointerdown:this.az,\npointermove:this.bz,pointerup:this.cz,pointercancel:this.$y};Tn(this)}u(Sn,od);function Tn(a,b){var c,d=a.sp.length;for(c=0;c<d;c++){var e=a.sp[c];var f=e.listener;\"function\"===typeof f&&(b?(e.target||a.element).removeEventListener(e.bb,f):(e.target||a.element).addEventListener(e.bb,f))}}\nfunction Un(a,b,c){var d;if(\"function\"===typeof a.St[b]){\"pointermove\"!==b&&(a.im=!0);var e=0;for(d=a.changedPointers.length();e<d;e++){var f=a.changedPointers.item(e);a.element.contains(c.composedPath()[0])?Vn(a,f,a.Kt.bind(a,c,b,f)):a.Kt(c,b,f,null)}}a.changedPointers.clear()}m=Sn.prototype;m.Kt=function(a,b,c,d){Wn(c.id,this.Rk);this.St[b].call(this,c,d,a)};\nfunction Vn(a,b,c){if(a.Na===b)c(b.target);else{var d=a.Ea;var e=b.viewportX;b=b.viewportY;if(0>e||0>b||e>=d.width||b>=d.height)c(x);else{var f=a.map;f.Eh(e,b,function(g){c(g||f)})}}}\nm.cz=function(a,b,c){var d=a.id;a.target=b;Xn(this,a,c);Yn(this,b,\"pointerup\",c,a);\"mouse\"!==a.type&&Yn(this,b,\"pointerleave\",c,a);b=this.bg[a.id];var e={x:a.viewportX,y:a.viewportY},f=c.timeStamp,g=a.target,h=this.fk;b&&b.target===g&&b.zk.lb(e)<this.vx&&f-b.rs<this.wx?(Yn(this,g,\"tap\",c,a),h&&h.target===g&&f-h.rs<this.kp?h.zk.lb({x:a.viewportX,y:a.viewportY})<this.Bt&&(Yn(this,g,\"dbltap\",c,a),this.fk=null):this.fk={target:g,zk:new K(a.viewportX,a.viewportY),rs:c.timeStamp}):this.fk=null;this.bg=\n{};Wn(d,this.uf)};function Xn(a,b,c){b===a.Na&&(Yn(a,b.dragTarget,\"dragend\",c,b),a.Na=null,Wn(b.id,a.Rk));b.dragTarget=null}m.qj=function(a,b){var c=this;Yn(this,a.dragTarget,\"drag\",b,a);Wn(a.id,this.Rk);this.Rk[a.id]=setTimeout(function(){c.qj(a,b)},150)};function Wn(a,b){b[a]&&(b[a].timeout?clearTimeout(b[a].timeout):clearTimeout(b[a]),delete b[a])}\nfunction Zn(a,b,c){var d=b.target,e=new K(b.viewportX,b.viewportY),f=b.id;Wn(f,a.uf);var g=setTimeout(function(){d&&d===b.target&&e.lb({x:b.viewportX,y:b.viewportY})<a.Fq&&(Yn(a,d,\"longpress\",c,b),delete a.bg[b.id])},a.Gq);a.uf[f]={timeout:g,zk:e}}\nm.bz=function(a,b,c){var d=a.dragTarget,e=a.id;var f=a.target;a.target=b;f!==b&&(Yn(this,f,\"pointerleave\",c,a),Yn(this,b,\"pointerenter\",c,a));d?this.Na?(this.qj(a,c),this.uf[e]&&this.uf[e].zk.lb({x:a.viewportX,y:a.viewportY})>this.Fq&&Wn(e,this.uf)):this.im?this.im=!1:(this.Na=a,Yn(this,d,\"dragstart\",c,a),this.qj(a,c),delete this.bg[e],this.im=!0):(!this.Na||this.Na&&this.Na.dragTarget!==b&&this.Na.dragTarget!==this.map)&&Yn(this,b,\"pointermove\",c,a)};\nm.az=function(a,b,c){var d=!(/^(?:mouse|pen)$/.test(a.type)&&0!==c.button);if(b){a.target=b;this.bg[a.id]={zk:new K(a.viewportX,a.viewportY),target:a.target,rs:c.timeStamp};\"mouse\"!==a.type&&Yn(this,b,\"pointerenter\",c,a);var e=Yn(this,b,\"pointerdown\",c,a);!this.Na&&d&&(b.draggable&&!Rn(this.pointers,b)?a.dragTarget=b:!this.map.draggable||e.defaultPrevented||Rn(this.pointers,this.map)||(a.dragTarget=this.map));Zn(this,a,c)}};\nm.$y=function(a,b,c){var d=a.id;a.target=null;b?(Yn(this,b,\"pointerleave\",c,a),Yn(this,b,\"pointercancel\",c,a)):Yn(this,this.map,\"pointercancel\",c,a);Xn(this,a,c);this.bg={};Wn(d,this.uf)};\nfunction Yn(a,b,c,d,e){if(b&&\"function\"===typeof b.dispatchEvent){var f=rn;var g=a.pointers.Va(),h=a.changedPointers.Va();a=a.pointers;var k,l=a.Ha.length,n=[];for(k=0;k<l;k++)a.Ha[k].target===b&&n.push(a.Ha[k]);f=new f(c,g,h,n,e,b,d);e.button=/^(?:longpress|(?:dbl)?tap|pointer(?:down|up))$/.test(c)?e.Tm:Mn.NONE;b.dispatchEvent(f)}return f}\nm.disposeInternal=function(){Tn(this,!0);this.pointers.clear();this.changedPointers.clear();var a=this.Rk,b;for(b in a)Wn(b,a);a=this.uf;for(var c in a)Wn(c,a);delete this.element;delete this.sp;delete this.pointers;delete this.changedPointers;delete this.map;this.fk=null;delete this.bg;this.Na=null;od.prototype.disposeInternal.call(this)};function $n(a){this.Wf=z(this.Wf,this);Sn.call(this,a,[{bb:\"mousedown\",listener:this.Wf},{bb:\"mousemove\",listener:this.Wf,target:window},{bb:\"mouseup\",listener:this.Wf,target:window},{bb:\"mouseover\",listener:this.Wf},{bb:\"mouseout\",listener:this.Wf},{bb:\"dragstart\",listener:this.rC}])}u($n,Sn);$n.prototype.fp=function(a){a=new Hn(a.x,a.y,1,\"mouse\");this.pointers.push(a);return a};\n$n.prototype.Wf=function(a){var b=a.type,c=Nn(this.element),d={x:a.pageX-c.x,y:a.pageY-c.y};c=this.pointers.item(0)||this.fp(d);this.changedPointers.push(c);In(c,d.x,d.y);/^mouse(?:move|over|out)$/.test(b)?Un(this,\"pointermove\",a):(/^mouse(down|up)$/.test(b)&&(d=a.which-1,\"up\"===globalThis.RegExp.$1?Ln(c,d):Jn(c,d)),Un(this,b.replace(\"mouse\",\"pointer\"),a));this.changedPointers.clear()};$n.prototype.rC=function(a){a.preventDefault()};function ao(a){var b=bo(this);(window.PointerEvent||window.MSPointerEvent)&&b.push({bb:\"MSHoldVisual\",listener:\"prevent\"});Sn.call(this,a,b)}u(ao,Sn);function bo(a){var b=!!window.PointerEvent,c,d,e=[];a.cq=z(a.cq,a);\"MSPointerDown MSPointerMove MSPointerUp MSPointerCancel MSPointerOut MSPointerOver\".split(\" \").forEach(function(f){c=f.toLowerCase().replace(/ms/g,\"\");d=b?c:f;e.push({bb:d,listener:a.cq,target:/^pointer(up|move)$/.test(c)?window:null})});return e}var co={2:\"touch\",3:\"pen\",4:\"mouse\"};\nao.prototype.fp=function(a,b){var c=a.pointerType;\"number\"===typeof c&&(c=co[c]);a=new Hn(b.x,b.y,a.pointerId,c,a.button,a.buttons);this.pointers.push(a);return a};\nao.prototype.cq=function(a){var b=window.PointerEvent?a.type:a.type.toLowerCase().replace(/ms/g,\"\"),c=Nn(this.element),d=Pn(this.pointers,a.pointerId),e=a.pageX-c.x;c=a.pageY-c.y;var f=co[a.pointerType]||a.pointerType;yb&&\"rtl\"===globalThis.getComputedStyle(this.Ea.element).direction&&(e-=(globalThis.devicePixelRatio-1)*this.Ea.width);d||/^pointer(up|out|cancel)$/.test(b)||\"touch\"===f&&\"pointerdown\"!==b||(d=this.fp(a,{x:e,y:c}));if(d)if(/^pointer(up|cancel)$/.test(b)?(\"touch\"===f&&this.pointers.remove(d.id),\nLn(d,a.button)):\"pointerdown\"===b&&(\"touch\"===a.pointerType&&(Qn(this.pointers,\"mouse\"),Qn(this.pointers,\"pen\")),Jn(d,a.button)),this.changedPointers.push(d),\"pointermove\"!==b)In(d,e,c),Un(this,/^pointer(over|out)$/.test(b)?\"pointermove\":b,a);else if(d.viewportX!==e||d.viewportY!==c)In(d,e,c),Un(this,b,a);this.changedPointers.clear()};function eo(a){this.Jh=z(this.Jh,this);Sn.call(this,a,[{bb:\"touchstart\",listener:this.Jh},{bb:\"touchmove\",listener:this.Jh},{bb:\"touchend\",listener:this.Jh},{bb:\"touchcancel\",listener:this.Jh}]);this.Jx={touchstart:\"pointerdown\",touchmove:\"pointermove\",touchend:\"pointerup\",touchcancel:\"pointercancel\"};this.Ku=(a=(a=a.$d)?a.F():null)?Array.prototype.slice.call(a.querySelectorAll(\"a\"),0):[]}u(eo,Sn);\neo.prototype.Jh=function(a){var b=a.touches,c=this.pointers.length(),d;if(\"touchstart\"===a.type&&c>=b.length){c=this.pointers.clone();for(d=b.length;d--;)c.remove(b[d].identifier);for(d=c.length();d--;)this.pointers.remove(c.item(d).id);this.changedPointers=c;Un(this,\"pointercancel\",a);this.changedPointers.clear()}if(this.Jx[a.type]){b=Nn(this.Ea.element);c=a.type;d=a.changedTouches;var e=d.length,f;this.changedPointers.clear();for(f=0;f<e;f++){var g=d[f];var h=Pn(this.pointers,g.identifier);var k=\ng.pageX-b.x;var l=g.pageY-b.y;if(h)if(\"touchmove\"===c){g=Math.abs(h.viewportX-k);var n=Math.abs(h.viewportY-l);if(1<g||1<n||1===g&&1===n)In(h,k,l),this.changedPointers.push(h)}else\"touchend\"===c&&(this.pointers.remove(h.id),this.changedPointers.push(h),Ln(h,Mn.LEFT));else h=new Hn(k,l,g.identifier,\"touch\",Mn.LEFT,1),this.pointers.push(h),this.changedPointers.push(h)}Un(this,this.Jx[a.type],a);-1===this.Ku.indexOf(a.target)&&a.preventDefault()}};\neo.prototype.disposeInternal=function(){this.Ku=null;Sn.prototype.disposeInternal.call(this)};function fo(a,b,c,d,e){fo.g.constructor.call(this,\"wheel\");this.delta=a;this.viewportX=b;this.viewportY=c;this.target=d;this.originalEvent=e}u(fo,td);t(\"H.mapevents.WheelEvent\",fo);function go(a){var b=\"onwheel\"in document;this.jy=b;this.gy=(b?\"d\":\"wheelD\")+\"elta\";this.eq=z(this.eq,this);go.g.constructor.call(this,a,[{bb:(b?\"\":\"mouse\")+\"wheel\",listener:this.eq}]);this.ua=this.map.ua}u(go,Sn);\ngo.prototype.normalize=function(a,b,c){var d=this.gy,e=a[d+(d+\"Y\"in a?\"Y\":\"\")],f;yb&&\"rtl\"===globalThis.getComputedStyle(this.ua.element).direction&&(b-=(globalThis.devicePixelRatio-1)*this.ua.width);if(e){var g=Math.abs;var h=g(e);e=(!(f=a[d+\"X\"])||3<=h/g(f))&&(!(f=a[d+\"Z\"])||3<=h/g(f))?(+(0<e)-+(0>e))*(this.jy?1:-1):0}return new fo(e,b,c,null,a)};\ngo.prototype.eq=function(a){if(!a.Xx){var b=Nn(this.element);b=this.normalize(a,a.pageX-b.x,a.pageY-b.y);b.delta&&(a.stopImmediatePropagation(),a.preventDefault(),this.map.Eh(b.viewportX,b.viewportY,this.Pp.bind(this,b)))}};go.prototype.Pp=function(a,b){var c=a.target=b||this.map,d,e;setTimeout(function(){c.dispatchEvent(a);a.defaultPrevented||(d=a.originalEvent,e=new globalThis.WheelEvent(\"wheel\",d),e.Xx=!0,d.target.dispatchEvent(e))},0)};function ho(a,b,c,d){ho.g.constructor.call(this,\"contextmenu\");this.items=[];this.viewportX=a;this.viewportY=b;this.target=c;this.originalEvent=d}u(ho,td);t(\"H.mapevents.ContextMenuEvent\",ho);function io(a){this.$p=z(this.$p,this);this.bq=z(this.bq,this);this.aq=z(this.aq,this);this.vn=!1;this.lh=-1;this.kv=0;io.g.constructor.call(this,a,[{bb:\"contextmenu\",listener:this.$p},{target:a,bb:\"longpress\",listener:this.bq},{target:a,bb:\"dbltap\",listener:this.aq}])}u(io,Sn);m=io.prototype;m.bq=function(a){var b=a.currentPointer;\"touch\"===b.type&&1===a.pointers.length&&jo(this,b.viewportX,b.viewportY,a.originalEvent,a.target)};m.aq=function(a){\"touch\"===a.currentPointer.type&&(this.kv=Date.now())};\nm.$p=function(a){var b=this;-1===this.lh?this.lh=setTimeout(function(){var c=Nn(b.element),d=a.pageX-c.x;c=a.pageY-c.y;b.lh=-1;jo(b,d,c,a)},this.kp):(clearInterval(this.lh),this.lh=-1);a.preventDefault()};function jo(a,b,c,d,e){var f=a.map,g=Date.now()-a.kv;e?!a.vn&&g>a.Gq&&(a.vn=!0,e.dispatchEvent(new ho(b,c,e,d)),Jd(f.F(),ko,a.Jt,!1,a)):f.Eh(b,c,a.Pp.bind(a,b,c,d))}m.Pp=function(a,b,c,d){jo(this,a,b,c,d&&Wa(d.dispatchEvent)?d:this.map)};\nm.Jt=function(){this.vn&&(this.vn=!1,this.map.dispatchEvent(new td(\"contextmenuclose\",this.map)))};m.disposeInternal=function(){var a=this.map.F();clearInterval(this.lh);a&&Qd(a,ko,this.Jt,!1,this);Sn.prototype.disposeInternal.call(this)};var ko=[\"mousedown\",\"touchstart\",\"pointerdown\",\"wheel\"];function lo(a){var b=a.ua.element.style;if(-1!==mo.indexOf(a))throw Error(\"InvalidArgument: map is already in use\");this.s=a;mo.push(a);b.msTouchAction=b.touchAction=\"none\";Cb||!window.PointerEvent&&!window.MSPointerEvent?(this.Ix=new eo(this.s),this.Fv=new $n(this.s)):this.Ix=new ao(this.s);this.RD=new go(this.s);this.Ly=new io(this.s);this.s.ec(this.l,this);od.call(this)}u(lo,od);t(\"H.mapevents.MapEvents\",lo);var mo=[];kb(mo);\nlo.prototype.l=function(){delete this.s;this.Ix.l();this.RD.l();this.Ly.l();this.Fv&&this.Fv.l();mo.splice(mo.indexOf(this.s),1);od.prototype.l.call(this)};lo.prototype.dispose=lo.prototype.l;lo.prototype.Cz=function(){return this.s};lo.prototype.getAttachedMap=lo.prototype.Cz;t(\"H.mapevents.buildInfo\",function(){return xm(\"H-mapevents\",\"1.65.0\",\"643e65e\",{region:\"row\"})});\n");